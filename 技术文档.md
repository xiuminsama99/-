# éšæœºæŒ‡çº¹æµè§ˆå™¨ - æŠ€æœ¯æ–‡æ¡£

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
3. [æ ¸å¿ƒæ¨¡å—è¯¦è§£](#æ ¸å¿ƒæ¨¡å—è¯¦è§£)
4. [æŒ‡çº¹éšæœºåŒ–æŠ€æœ¯](#æŒ‡çº¹éšæœºåŒ–æŠ€æœ¯)
5. [æ•°æ®æ¸…ç†æœºåˆ¶](#æ•°æ®æ¸…ç†æœºåˆ¶)
6. [å®‰å…¨æœºåˆ¶](#å®‰å…¨æœºåˆ¶)
7. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
8. [APIå‚è€ƒ](#apiå‚è€ƒ)
9. [æ‰©å±•å¼€å‘](#æ‰©å±•å¼€å‘)
10. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

### æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Electron 27.0.0
- **è¿è¡Œæ—¶**: Node.js 16+
- **æ ¸å¿ƒå¼•æ“**: Chromium (Chromeå†…æ ¸)
- **å¼€å‘è¯­è¨€**: JavaScript (ES6+)
- **åŒ…ç®¡ç†**: npm
- **æ„å»ºå·¥å…·**: electron-builder

### è®¾è®¡ç›®æ ‡
- **éšç§ä¿æŠ¤**: é˜²æ­¢åŸºäºæµè§ˆå™¨æŒ‡çº¹çš„è·Ÿè¸ª
- **æ•°æ®éš”ç¦»**: æ¯æ¬¡å¯åŠ¨éƒ½æ˜¯å…¨æ–°çš„æµè§ˆç¯å¢ƒ
- **çœŸå®æ¨¡æ‹Ÿ**: ç”ŸæˆçœŸå®å¯ä¿¡çš„æµè§ˆå™¨æŒ‡çº¹
- **æ˜“ç”¨æ€§**: ä¸€é”®å¯åŠ¨ï¼Œè‡ªåŠ¨æ¸…ç†
- **è·¨å¹³å°**: æ”¯æŒWindowsã€macOSã€Linux

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Electron Main Process                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RandomFingerprintâ”‚  â”‚ FingerprintGen  â”‚  â”‚ DataCleaner     â”‚ â”‚
â”‚  â”‚ Browser         â”‚  â”‚ erator          â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚ (ä¸»æ§åˆ¶å™¨)       â”‚  â”‚ (æŒ‡çº¹ç”Ÿæˆ)       â”‚  â”‚ (æ•°æ®æ¸…ç†)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ FingerprintInj  â”‚  â”‚ Config          â”‚  â”‚ Session Manager â”‚ â”‚
â”‚  â”‚ ector           â”‚  â”‚ (é…ç½®ç®¡ç†)       â”‚  â”‚ (ä¼šè¯ç®¡ç†)       â”‚ â”‚
â”‚  â”‚ (æŒ‡çº¹æ³¨å…¥)       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Chromium Renderer Process                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Navigator API   â”‚  â”‚ Screen API      â”‚  â”‚ WebGL API       â”‚ â”‚
â”‚  â”‚ (å¯¼èˆªå™¨ä¼ªè£…)     â”‚  â”‚ (å±å¹•ä¼ªè£…)       â”‚  â”‚ (å›¾å½¢ä¼ªè£…)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Canvas API      â”‚  â”‚ Audio API       â”‚  â”‚ Date/Time API   â”‚ â”‚
â”‚  â”‚ (ç”»å¸ƒä¼ªè£…)       â”‚  â”‚ (éŸ³é¢‘ä¼ªè£…)       â”‚  â”‚ (æ—¶é—´ä¼ªè£…)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—ä¾èµ–å…³ç³»
```
RandomFingerprintBrowser (ä¸»æ§åˆ¶å™¨)
â”œâ”€â”€ FingerprintGenerator (æŒ‡çº¹ç”Ÿæˆ)
â”œâ”€â”€ FingerprintInjector (æŒ‡çº¹æ³¨å…¥)
â”œâ”€â”€ DataCleaner (æ•°æ®æ¸…ç†)
â””â”€â”€ Config (é…ç½®ç®¡ç†)
```

## ğŸ”§ æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. RandomFingerprintBrowser (ä¸»æ§åˆ¶å™¨)
**æ–‡ä»¶**: `src/main.js`

**èŒè´£**:
- åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
- çª—å£åˆ›å»ºå’Œç®¡ç†
- æ¨¡å—åè°ƒå’Œè°ƒåº¦
- äº‹ä»¶å¤„ç†å’Œé”™è¯¯ç®¡ç†

**æ ¸å¿ƒæ–¹æ³•**:
```javascript
class RandomFingerprintBrowser {
    async initialize()           // åˆå§‹åŒ–åº”ç”¨
    async createWindow()         // åˆ›å»ºæµè§ˆå™¨çª—å£
    async applyFingerprint()     // åº”ç”¨æŒ‡çº¹è®¾ç½®
    async handleWindowClose()    // å¤„ç†çª—å£å…³é—­
    setupAppEvents()            // è®¾ç½®åº”ç”¨äº‹ä»¶
}
```

### 2. FingerprintGenerator (æŒ‡çº¹ç”Ÿæˆå™¨)
**æ–‡ä»¶**: `src/fingerprint-generator.js`

**èŒè´£**:
- ç”Ÿæˆéšæœºæµè§ˆå™¨æŒ‡çº¹
- ç®¡ç†æŒ‡çº¹æ•°æ®åº“
- ç¡®ä¿æŒ‡çº¹çš„çœŸå®æ€§å’Œå”¯ä¸€æ€§

**æ ¸å¿ƒç®—æ³•**:
```javascript
generate() {
    return {
        userAgent: this.generateUserAgent(),
        platform: this.getRandomElement(this.platforms),
        screenWidth: resolution.width,
        screenHeight: resolution.height,
        hardwareConcurrency: this.getRandomElement(this.hardwareConcurrencies),
        deviceMemory: this.getRandomElement(this.deviceMemories),
        webglVendor: this.getRandomElement(this.webglVendors),
        webglRenderer: this.getRandomElement(this.webglRenderers),
        // ... æ›´å¤šå±æ€§
    };
}
```

### 3. FingerprintInjector (æŒ‡çº¹æ³¨å…¥å™¨)
**æ–‡ä»¶**: `src/fingerprint-injector.js`

**èŒè´£**:
- ç”ŸæˆæŒ‡çº¹æ³¨å…¥è„šæœ¬
- åœ¨é¡µé¢åŠ è½½å‰æ³¨å…¥ä»£ç 
- è¦†ç›–æµè§ˆå™¨åŸç”ŸAPI

**æ³¨å…¥æŠ€æœ¯**:
```javascript
// å®‰å…¨çš„å±æ€§é‡å®šä¹‰
function safeDefineProperty(obj, prop, descriptor) {
    return Object.defineProperty(obj, prop, {
        ...descriptor,
        configurable: true,
        enumerable: true
    });
}

// Navigatorå±æ€§é‡å†™
safeDefineProperty(navigator, 'userAgent', {
    get: () => fingerprint.userAgent
});
```

### 4. DataCleaner (æ•°æ®æ¸…ç†å™¨)
**æ–‡ä»¶**: `src/data-cleaner.js`

**èŒè´£**:
- æ¸…ç†æµè§ˆå™¨æ•°æ®
- é‡ç½®æµè§ˆå™¨è®¾ç½®
- ç¡®ä¿æ•°æ®å®Œå…¨åˆ é™¤

**æ¸…ç†ç­–ç•¥**:
```javascript
async cleanAllData() {
    await this.cleanSessionData();      // æ¸…ç†Sessionæ•°æ®
    await this.cleanFileSystemData();   // æ¸…ç†æ–‡ä»¶ç³»ç»Ÿæ•°æ®
    await this.cleanCache();           // æ¸…ç†ç¼“å­˜
    await this.resetSettings();       // é‡ç½®è®¾ç½®
}
```

## ğŸ­ æŒ‡çº¹éšæœºåŒ–æŠ€æœ¯

### æŒ‡çº¹ç±»å‹å’Œè¦†ç›–èŒƒå›´

#### 1. NavigatoræŒ‡çº¹
```javascript
// è¦†ç›–çš„å±æ€§
navigator.userAgent         // ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²
navigator.platform          // æ“ä½œç³»ç»Ÿå¹³å°
navigator.language          // é¦–é€‰è¯­è¨€
navigator.languages         // è¯­è¨€åˆ—è¡¨
navigator.hardwareConcurrency // CPUæ ¸å¿ƒæ•°
navigator.deviceMemory      // è®¾å¤‡å†…å­˜
navigator.maxTouchPoints    // è§¦æ‘¸ç‚¹æ•°é‡
navigator.cookieEnabled     // Cookieå¯ç”¨çŠ¶æ€
navigator.doNotTrack        // è¯·å‹¿è·Ÿè¸ªè®¾ç½®
```

#### 2. ScreenæŒ‡çº¹
```javascript
// è¦†ç›–çš„å±æ€§
screen.width                // å±å¹•å®½åº¦
screen.height               // å±å¹•é«˜åº¦
screen.availWidth           // å¯ç”¨å®½åº¦
screen.availHeight          // å¯ç”¨é«˜åº¦
screen.colorDepth           // é¢œè‰²æ·±åº¦
screen.pixelDepth           // åƒç´ æ·±åº¦
```

#### 3. WebGLæŒ‡çº¹
```javascript
// è¦†ç›–WebGLå‚æ•°
WebGLRenderingContext.prototype.getParameter = function(parameter) {
    switch(parameter) {
        case 37445: // UNMASKED_VENDOR_WEBGL
            return fingerprint.webglVendor;
        case 37446: // UNMASKED_RENDERER_WEBGL
            return fingerprint.webglRenderer;
        default:
            return originalGetParameter.call(this, parameter);
    }
};
```

#### 4. CanvasæŒ‡çº¹
```javascript
// æ·»åŠ éšæœºå™ªå£°åˆ°Canvasæ•°æ®
HTMLCanvasElement.prototype.toDataURL = function(...args) {
    const result = originalToDataURL.apply(this, args);
    // æ·»åŠ è½»å¾®çš„éšæœºå™ªå£°
    return addCanvasNoise(result, fingerprint.canvasFingerprint);
};
```

#### 5. éŸ³é¢‘æŒ‡çº¹
```javascript
// éŸ³é¢‘ä¸Šä¸‹æ–‡æŒ‡çº¹ä¼ªè£…
AudioContext.prototype.createAnalyser = function() {
    const analyser = originalCreateAnalyser.call(this);
    // é‡å†™getFloatFrequencyDataæ–¹æ³•
    analyser.getFloatFrequencyData = function(array) {
        originalGetFloatFrequencyData.call(this, array);
        // æ·»åŠ è½»å¾®å™ªå£°
        addAudioNoise(array);
    };
    return analyser;
};
```

### æŒ‡çº¹ç”Ÿæˆç®—æ³•

#### çœŸå®æ€§ä¿è¯
```javascript
// ç¡®ä¿æŒ‡çº¹ç»„åˆçš„çœŸå®æ€§
validateFingerprintCombination(fingerprint) {
    // æ£€æŸ¥User-Agentä¸å¹³å°çš„ä¸€è‡´æ€§
    if (fingerprint.userAgent.includes('Windows') && 
        fingerprint.platform !== 'Win32') {
        return false;
    }
    
    // æ£€æŸ¥å±å¹•åˆ†è¾¨ç‡çš„åˆç†æ€§
    if (fingerprint.screenWidth < 800 || 
        fingerprint.screenHeight < 600) {
        return false;
    }
    
    // æ£€æŸ¥ç¡¬ä»¶å‚æ•°çš„åˆç†æ€§
    if (fingerprint.deviceMemory > fingerprint.hardwareConcurrency * 8) {
        return false;
    }
    
    return true;
}
```

#### å”¯ä¸€æ€§ä¿è¯
```javascript
// ç¡®ä¿æŒ‡çº¹çš„å”¯ä¸€æ€§
generateUniqueFingerprint() {
    let fingerprint;
    let attempts = 0;
    
    do {
        fingerprint = this.generateBasicFingerprint();
        attempts++;
    } while (
        this.isDuplicate(fingerprint) && 
        attempts < 100
    );
    
    return fingerprint;
}
```

## ğŸ§¹ æ•°æ®æ¸…ç†æœºåˆ¶

### æ¸…ç†èŒƒå›´

#### 1. Sessionæ•°æ®æ¸…ç†
```javascript
async cleanSessionData() {
    const defaultSession = session.defaultSession;
    
    // æ¸…é™¤æ‰€æœ‰cookies
    const cookies = await defaultSession.cookies.get({});
    for (const cookie of cookies) {
        await defaultSession.cookies.remove(url, cookie.name);
    }
    
    // æ¸…é™¤ç¼“å­˜
    await defaultSession.clearCache();
    
    // æ¸…é™¤å­˜å‚¨æ•°æ®
    await defaultSession.clearStorageData({
        storages: [
            'appcache', 'cookies', 'filesystem', 
            'indexdb', 'localstorage', 'shadercache',
            'websql', 'serviceworkers', 'cachestorage'
        ]
    });
}
```

#### 2. æ–‡ä»¶ç³»ç»Ÿæ¸…ç†
```javascript
// æ¸…ç†çš„ç›®å½•åˆ—è¡¨
this.tempDataPaths = [
    'Cache',                    // ç½‘é¡µç¼“å­˜
    'Code Cache',              // ä»£ç ç¼“å­˜
    'GPUCache',                // GPUç¼“å­˜
    'Session Storage',         // ä¼šè¯å­˜å‚¨
    'Local Storage',           // æœ¬åœ°å­˜å‚¨
    'IndexedDB',               // ç´¢å¼•æ•°æ®åº“
    'WebSQL',                  // Web SQLæ•°æ®åº“
    'Cookies',                 // Cookieæ–‡ä»¶
    'Network Persistent State', // ç½‘ç»œæŒä¹…çŠ¶æ€
    'History',                 // æµè§ˆå†å²
    'Login Data',              // ç™»å½•æ•°æ®
    'Preferences',             // ç”¨æˆ·åå¥½è®¾ç½®
    'Extensions',              // æ‰©å±•æ•°æ®
    // ... æ›´å¤šç›®å½•
];
```

#### 3. å¼ºåˆ¶æ¸…ç†æœºåˆ¶
```javascript
async forceCleanBasicData() {
    // å³ä½¿å‡ºé”™ä¹Ÿè¦æ¸…ç†æœ€é‡è¦çš„æ•°æ®
    const criticalPaths = [
        'Cookies', 'Local Storage', 
        'Session Storage', 'Cache'
    ];
    
    for (const criticalPath of criticalPaths) {
        try {
            await this.removeDirectory(path.join(userDataDir, criticalPath));
        } catch (error) {
            console.warn(`å¼ºåˆ¶æ¸…ç†å¤±è´¥: ${criticalPath}`, error);
        }
    }
}
```

### æ¸…ç†éªŒè¯
```javascript
async verifyCleanup() {
    const stats = await this.getDataUsageStats();
    
    // æ£€æŸ¥å…³é”®ç›®å½•æ˜¯å¦å·²æ¸…ç†
    const criticalDirs = ['Cookies', 'Cache', 'Local Storage'];
    for (const dir of criticalDirs) {
        if (stats.directories[dir] && stats.directories[dir].fileCount > 0) {
            console.warn(`æ¸…ç†ä¸å®Œå…¨: ${dir} ä»æœ‰ ${stats.directories[dir].fileCount} ä¸ªæ–‡ä»¶`);
        }
    }
    
    return stats.totalSize < 1024 * 1024; // å°äº1MBè®¤ä¸ºæ¸…ç†æˆåŠŸ
}
```

## ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶

### 1. Sessionéš”ç¦»
```javascript
// æ¯æ¬¡å¯åŠ¨åˆ›å»ºæ–°çš„sessionåˆ†åŒº
const customSession = session.fromPartition(`random-${Date.now()}`);

// é…ç½®å®‰å…¨é€‰é¡¹
const securityOptions = {
    nodeIntegration: false,        // ç¦ç”¨Node.jsé›†æˆ
    contextIsolation: true,        // å¯ç”¨ä¸Šä¸‹æ–‡éš”ç¦»
    enableRemoteModule: false,     // ç¦ç”¨è¿œç¨‹æ¨¡å—
    webSecurity: true,             // å¯ç”¨Webå®‰å…¨
    allowRunningInsecureContent: false, // ç¦æ­¢ä¸å®‰å…¨å†…å®¹
    experimentalFeatures: false    // ç¦ç”¨å®éªŒæ€§åŠŸèƒ½
};
```

### 2. è¿›ç¨‹æ²™ç®±
```javascript
// Chromiumå®‰å…¨å‚æ•°
const securityArgs = [
    '--no-sandbox',                    // æ ¹æ®éœ€è¦å¯ç”¨/ç¦ç”¨æ²™ç®±
    '--disable-web-security',          // å¯é€‰ï¼šç¦ç”¨Webå®‰å…¨
    '--disable-features=VizDisplayCompositor', // ç¦ç”¨ç‰¹å®šåŠŸèƒ½
    '--disable-dev-shm-usage',         // ç¦ç”¨/dev/shmä½¿ç”¨
    '--disable-gpu',                   // å¯é€‰ï¼šç¦ç”¨GPUåŠ é€Ÿ
];
```

### 3. å†…å­˜ä¿æŠ¤
```javascript
// é˜²æ­¢å†…å­˜æ³„æ¼
process.on('uncaughtException', (error) => {
    console.error('æœªæ•è·çš„å¼‚å¸¸:', error);
    // æ¸…ç†èµ„æº
    this.cleanup();
});

process.on('unhandledRejection', (reason) => {
    console.error('æœªå¤„ç†çš„Promiseæ‹’ç»:', reason);
    // æ¸…ç†èµ„æº
    this.cleanup();
});
```

### 4. æ–‡ä»¶ç³»ç»Ÿä¿æŠ¤
```javascript
// å®‰å…¨çš„æ–‡ä»¶æ“ä½œ
async safeFileOperation(operation, filePath) {
    try {
        // éªŒè¯è·¯å¾„å®‰å…¨æ€§
        if (!this.isPathSafe(filePath)) {
            throw new Error('ä¸å®‰å…¨çš„æ–‡ä»¶è·¯å¾„');
        }
        
        // æ‰§è¡Œæ“ä½œ
        return await operation(filePath);
    } catch (error) {
        console.error(`æ–‡ä»¶æ“ä½œå¤±è´¥: ${filePath}`, error);
        return null;
    }
}
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. å¯åŠ¨ä¼˜åŒ–
```javascript
// å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—
const lazyLoadModules = {
    get fingerprintInjector() {
        if (!this._fingerprintInjector) {
            this._fingerprintInjector = require('./fingerprint-injector');
        }
        return this._fingerprintInjector;
    }
};

// é¢„ç¼–è¯‘æŒ‡çº¹è„šæœ¬
const precompiledScripts = new Map();
function getPrecompiledScript(fingerprintType) {
    if (!precompiledScripts.has(fingerprintType)) {
        precompiledScripts.set(fingerprintType, compileScript(fingerprintType));
    }
    return precompiledScripts.get(fingerprintType);
}
```

### 2. å†…å­˜ä¼˜åŒ–
```javascript
// æŒ‡çº¹ç¼“å­˜ç®¡ç†
class FingerprintCache {
    constructor(maxSize = 100) {
        this.cache = new Map();
        this.maxSize = maxSize;
    }
    
    set(key, value) {
        if (this.cache.size >= this.maxSize) {
            const firstKey = this.cache.keys().next().value;
            this.cache.delete(firstKey);
        }
        this.cache.set(key, value);
    }
    
    get(key) {
        return this.cache.get(key);
    }
}
```

### 3. æ¸…ç†ä¼˜åŒ–
```javascript
// å¹¶è¡Œæ¸…ç†
async parallelCleanup() {
    const cleanupTasks = [
        this.cleanSessionData(),
        this.cleanFileSystemData(),
        this.cleanCache(),
        this.resetSettings()
    ];
    
    // å¹¶è¡Œæ‰§è¡Œæ¸…ç†ä»»åŠ¡
    const results = await Promise.allSettled(cleanupTasks);
    
    // æ£€æŸ¥å¤±è´¥çš„ä»»åŠ¡
    results.forEach((result, index) => {
        if (result.status === 'rejected') {
            console.error(`æ¸…ç†ä»»åŠ¡ ${index} å¤±è´¥:`, result.reason);
        }
    });
}
```

### 4. èµ„æºç®¡ç†
```javascript
// è‡ªåŠ¨èµ„æºæ¸…ç†
class ResourceManager {
    constructor() {
        this.resources = new Set();
    }
    
    register(resource) {
        this.resources.add(resource);
    }
    
    async cleanup() {
        for (const resource of this.resources) {
            try {
                if (resource.cleanup) {
                    await resource.cleanup();
                }
            } catch (error) {
                console.error('èµ„æºæ¸…ç†å¤±è´¥:', error);
            }
        }
        this.resources.clear();
    }
}
```

## ğŸ“š APIå‚è€ƒ

### FingerprintGenerator API

#### generate()
ç”Ÿæˆéšæœºæµè§ˆå™¨æŒ‡çº¹
```javascript
const fingerprint = generator.generate();
// è¿”å›: {userAgent, platform, screenWidth, ...}
```

#### generateMobileFingerprint()
ç”Ÿæˆç§»åŠ¨è®¾å¤‡æŒ‡çº¹
```javascript
const mobileFingerprint = generator.generateMobileFingerprint();
```

#### generateTabletFingerprint()
ç”Ÿæˆå¹³æ¿è®¾å¤‡æŒ‡çº¹
```javascript
const tabletFingerprint = generator.generateTabletFingerprint();
```

### DataCleaner API

#### cleanAllData()
æ¸…ç†æ‰€æœ‰æµè§ˆå™¨æ•°æ®
```javascript
await cleaner.cleanAllData();
```

#### getDataUsageStats()
è·å–æ•°æ®ä½¿ç”¨ç»Ÿè®¡
```javascript
const stats = await cleaner.getDataUsageStats();
// è¿”å›: {totalSize, fileCount, directories}
```

#### formatFileSize(bytes)
æ ¼å¼åŒ–æ–‡ä»¶å¤§å°æ˜¾ç¤º
```javascript
const formatted = cleaner.formatFileSize(1024); // "1.00 KB"
```

### Config API

#### get(keyPath)
è·å–é…ç½®å€¼
```javascript
const width = config.get('browser.windowWidth');
```

#### set(keyPath, value)
è®¾ç½®é…ç½®å€¼
```javascript
config.set('browser.windowWidth', 1920);
```

#### validate()
éªŒè¯é…ç½®
```javascript
const errors = config.validate();
```

#### getChromiumArgs()
è·å–Chromiumå¯åŠ¨å‚æ•°
```javascript
const args = config.getChromiumArgs();
```

## ğŸ”§ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æŒ‡çº¹ç±»å‹

#### 1. æ‰©å±•FingerprintGenerator
```javascript
// åœ¨fingerprint-generator.jsä¸­æ·»åŠ 
generateCustomFingerprint() {
    return {
        customProperty1: this.getRandomElement(this.customOptions1),
        customProperty2: this.generateCustomValue(),
        // ... æ›´å¤šè‡ªå®šä¹‰å±æ€§
    };
}
```

#### 2. æ‰©å±•FingerprintInjector
```javascript
// åœ¨fingerprint-injector.jsä¸­æ·»åŠ 
generateCustomScript(fingerprint) {
    return `
        // è‡ªå®šä¹‰æŒ‡çº¹æ³¨å…¥è„šæœ¬
        Object.defineProperty(window, 'customAPI', {
            get: () => '${fingerprint.customProperty1}'
        });
    `;
}
```

### æ·»åŠ æ–°çš„æ¸…ç†ç­–ç•¥

#### 1. æ‰©å±•DataCleaner
```javascript
// åœ¨data-cleaner.jsä¸­æ·»åŠ 
async cleanCustomData() {
    // è‡ªå®šä¹‰æ¸…ç†é€»è¾‘
    const customPaths = ['Custom Data 1', 'Custom Data 2'];
    
    for (const customPath of customPaths) {
        await this.removeDirectory(path.join(this.userDataPath, customPath));
    }
}
```

#### 2. é›†æˆåˆ°ä¸»æ¸…ç†æµç¨‹
```javascript
async cleanAllData() {
    await this.cleanSessionData();
    await this.cleanFileSystemData();
    await this.cleanCache();
    await this.resetSettings();
    await this.cleanCustomData(); // æ·»åŠ è‡ªå®šä¹‰æ¸…ç†
}
```

### æ·»åŠ æ–°çš„é…ç½®é€‰é¡¹

#### 1. æ‰©å±•Config
```javascript
// åœ¨config.jsä¸­æ·»åŠ 
this.defaultConfig = {
    // ç°æœ‰é…ç½®...
    custom: {
        enableCustomFeature: true,
        customTimeout: 5000,
        customOptions: ['option1', 'option2']
    }
};
```

#### 2. æ·»åŠ éªŒè¯è§„åˆ™
```javascript
validate() {
    const errors = [];
    
    // ç°æœ‰éªŒè¯...
    
    // è‡ªå®šä¹‰éªŒè¯
    const customTimeout = this.get('custom.customTimeout');
    if (customTimeout < 1000 || customTimeout > 30000) {
        errors.push('è‡ªå®šä¹‰è¶…æ—¶å¿…é¡»åœ¨1000-30000msä¹‹é—´');
    }
    
    return errors;
}
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### 1. å¯åŠ¨å¤±è´¥
**ç—‡çŠ¶**: æµè§ˆå™¨æ— æ³•å¯åŠ¨æˆ–ç«‹å³å´©æºƒ
**å¯èƒ½åŸå› **:
- Node.jsç‰ˆæœ¬è¿‡ä½
- ä¾èµ–åŒ…æœªæ­£ç¡®å®‰è£…
- æƒé™ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node --version  # åº”è¯¥ >= 16.0.0

# é‡æ–°å®‰è£…ä¾èµ–
npm cache clean --force
npm install

# Windows: ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
# Linux/macOS: æ£€æŸ¥æ–‡ä»¶æƒé™
chmod +x start.sh
```

#### 2. æŒ‡çº¹æ³¨å…¥å¤±è´¥
**ç—‡çŠ¶**: æ§åˆ¶å°æ˜¾ç¤ºæŒ‡çº¹æ³¨å…¥é”™è¯¯
**å¯èƒ½åŸå› **:
- è„šæœ¬æ³¨å…¥æ—¶æœºä¸æ­£ç¡®
- é¡µé¢CSPç­–ç•¥é˜»æ­¢
- APIå·²è¢«å…¶ä»–è„šæœ¬ä¿®æ”¹

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// æ£€æŸ¥æ³¨å…¥æ—¶æœº
this.mainWindow.webContents.on('dom-ready', () => {
    console.log('DOM ready, injecting fingerprint...');
    this.fingerprintInjector.injectToPage(this.mainWindow.webContents, fingerprint);
});

// æ·»åŠ é”™è¯¯å¤„ç†
try {
    this.mainWindow.webContents.executeJavaScript(script);
} catch (error) {
    console.error('æŒ‡çº¹æ³¨å…¥å¤±è´¥:', error);
    // å°è¯•å¤‡ç”¨æ–¹æ¡ˆ
    this.fallbackInjection(fingerprint);
}
```

#### 3. æ•°æ®æ¸…ç†ä¸å®Œå…¨
**ç—‡çŠ¶**: é‡å¯åä»æœ‰æ®‹ç•™æ•°æ®
**å¯èƒ½åŸå› **:
- æ–‡ä»¶è¢«å…¶ä»–è¿›ç¨‹å ç”¨
- æƒé™ä¸è¶³
- è·¯å¾„é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// æ·»åŠ é‡è¯•æœºåˆ¶
async removeDirectoryWithRetry(dirPath, maxRetries = 3) {
    for (let i = 0; i < maxRetries; i++) {
        try {
            await fs.rmdir(dirPath, { recursive: true });
            return true;
        } catch (error) {
            if (i === maxRetries - 1) {
                console.error(`åˆ é™¤ç›®å½•å¤±è´¥ ${dirPath}:`, error);
                return false;
            }
            // ç­‰å¾…åé‡è¯•
            await new Promise(resolve => setTimeout(resolve, 1000));
        }
    }
}
```

#### 4. æ€§èƒ½é—®é¢˜
**ç—‡çŠ¶**: å¯åŠ¨ç¼“æ…¢æˆ–è¿è¡Œå¡é¡¿
**å¯èƒ½åŸå› **:
- æŒ‡çº¹ç”Ÿæˆç®—æ³•å¤æ‚
- æ¸…ç†æ“ä½œé˜»å¡
- å†…å­˜æ³„æ¼

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// å¼‚æ­¥åŒ–æ“ä½œ
async initialize() {
    // å¹¶è¡Œæ‰§è¡Œåˆå§‹åŒ–ä»»åŠ¡
    const [cleanupResult, fingerprintResult] = await Promise.all([
        this.dataCleaner.cleanAllData(),
        this.fingerprintGenerator.generate()
    ]);
    
    await this.createWindow(fingerprintResult);
}

// æ·»åŠ æ€§èƒ½ç›‘æ§
const startTime = Date.now();
await this.heavyOperation();
const endTime = Date.now();
console.log(`æ“ä½œè€—æ—¶: ${endTime - startTime}ms`);
```

### è°ƒè¯•å·¥å…·

#### 1. å¯ç”¨è¯¦ç»†æ—¥å¿—
```javascript
// åœ¨main.jsä¸­æ·»åŠ 
const DEBUG = process.env.NODE_ENV === 'development';

function debugLog(message, ...args) {
    if (DEBUG) {
        console.log(`[DEBUG] ${message}`, ...args);
    }
}
```

#### 2. æ€§èƒ½åˆ†æ
```javascript
// æ·»åŠ æ€§èƒ½è®¡æ—¶å™¨
class PerformanceTimer {
    constructor() {
        this.timers = new Map();
    }
    
    start(name) {
        this.timers.set(name, Date.now());
    }
    
    end(name) {
        const startTime = this.timers.get(name);
        if (startTime) {
            const duration = Date.now() - startTime;
            console.log(`${name}: ${duration}ms`);
            this.timers.delete(name);
            return duration;
        }
    }
}
```

#### 3. å†…å­˜ç›‘æ§
```javascript
// ç›‘æ§å†…å­˜ä½¿ç”¨
function logMemoryUsage() {
    const usage = process.memoryUsage();
    console.log('å†…å­˜ä½¿ç”¨:', {
        rss: Math.round(usage.rss / 1024 / 1024) + 'MB',
        heapTotal: Math.round(usage.heapTotal / 1024 / 1024) + 'MB',
        heapUsed: Math.round(usage.heapUsed / 1024 / 1024) + 'MB',
        external: Math.round(usage.external / 1024 / 1024) + 'MB'
    });
}

// å®šæœŸç›‘æ§
setInterval(logMemoryUsage, 30000); // æ¯30ç§’è®°å½•ä¸€æ¬¡
```

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- ä½¿ç”¨ES6+è¯­æ³•
- é‡‡ç”¨async/awaitå¤„ç†å¼‚æ­¥æ“ä½œ
- ä½¿ç”¨JSDocæ³¨é‡Š
- éµå¾ªé©¼å³°å‘½åè§„èŒƒ

### é”™è¯¯å¤„ç†
- æ‰€æœ‰å¼‚æ­¥æ“ä½œå¿…é¡»æœ‰é”™è¯¯å¤„ç†
- ä½¿ç”¨try-catchåŒ…è£…å…³é”®ä»£ç 
- è®°å½•è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- æä¾›é™çº§æ–¹æ¡ˆ

### æµ‹è¯•è¦æ±‚
- æ¯ä¸ªæ¨¡å—éƒ½è¦æœ‰å¯¹åº”çš„æµ‹è¯•
- æµ‹è¯•è¦†ç›–ç‡ä¸ä½äº80%
- åŒ…å«å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- æ€§èƒ½æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•

### å®‰å…¨è¦æ±‚
- è¾“å…¥éªŒè¯å’Œæ¸…ç†
- é˜²æ­¢ä»£ç æ³¨å…¥
- å®‰å…¨çš„æ–‡ä»¶æ“ä½œ
- æœ€å°æƒé™åŸåˆ™

## ğŸ§ª æµ‹è¯•æ¡†æ¶

### æµ‹è¯•æ¶æ„
```
test/
â”œâ”€â”€ basic-test.js           # åŸºç¡€åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ fingerprint-test.js     # å®Œæ•´åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ performance-test.js     # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ security-test.js        # å®‰å…¨æµ‹è¯•
â””â”€â”€ integration-test.js     # é›†æˆæµ‹è¯•
```

### å•å…ƒæµ‹è¯•ç¤ºä¾‹
```javascript
// æŒ‡çº¹ç”Ÿæˆå™¨æµ‹è¯•
describe('FingerprintGenerator', () => {
    let generator;

    beforeEach(() => {
        generator = new FingerprintGenerator();
    });

    test('åº”è¯¥ç”Ÿæˆæœ‰æ•ˆçš„æŒ‡çº¹', () => {
        const fingerprint = generator.generate();

        expect(fingerprint).toHaveProperty('userAgent');
        expect(fingerprint).toHaveProperty('platform');
        expect(fingerprint.screenWidth).toBeGreaterThan(0);
        expect(fingerprint.screenHeight).toBeGreaterThan(0);
    });

    test('åº”è¯¥ç”Ÿæˆå”¯ä¸€çš„æŒ‡çº¹', () => {
        const fingerprint1 = generator.generate();
        const fingerprint2 = generator.generate();

        expect(fingerprint1.timestamp).not.toBe(fingerprint2.timestamp);
    });
});
```

### é›†æˆæµ‹è¯•ç¤ºä¾‹
```javascript
// å®Œæ•´æµç¨‹æµ‹è¯•
describe('Browser Integration', () => {
    test('åº”è¯¥å®Œæˆå®Œæ•´çš„å¯åŠ¨-ä½¿ç”¨-æ¸…ç†æµç¨‹', async () => {
        // å¯åŠ¨æµè§ˆå™¨
        const browser = new RandomFingerprintBrowser();
        await browser.initialize();

        // éªŒè¯æŒ‡çº¹åº”ç”¨
        const fingerprint = await browser.getCurrentFingerprint();
        expect(fingerprint).toBeDefined();

        // æ¨¡æ‹Ÿä½¿ç”¨
        await browser.navigate('https://example.com');

        // å…³é—­å¹¶æ¸…ç†
        await browser.close();

        // éªŒè¯æ•°æ®æ¸…ç†
        const stats = await browser.getDataStats();
        expect(stats.totalSize).toBeLessThan(1024 * 1024); // < 1MB
    });
});
```

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—ç³»ç»Ÿ
```javascript
class Logger {
    constructor(level = 'info') {
        this.level = level;
        this.levels = {
            error: 0,
            warn: 1,
            info: 2,
            debug: 3
        };
    }

    log(level, message, ...args) {
        if (this.levels[level] <= this.levels[this.level]) {
            const timestamp = new Date().toISOString();
            console.log(`[${timestamp}] [${level.toUpperCase()}] ${message}`, ...args);
        }
    }

    error(message, ...args) { this.log('error', message, ...args); }
    warn(message, ...args) { this.log('warn', message, ...args); }
    info(message, ...args) { this.log('info', message, ...args); }
    debug(message, ...args) { this.log('debug', message, ...args); }
}
```

### æ€§èƒ½ç›‘æ§
```javascript
class PerformanceMonitor {
    constructor() {
        this.metrics = new Map();
    }

    startTimer(name) {
        this.metrics.set(name, {
            startTime: performance.now(),
            endTime: null,
            duration: null
        });
    }

    endTimer(name) {
        const metric = this.metrics.get(name);
        if (metric) {
            metric.endTime = performance.now();
            metric.duration = metric.endTime - metric.startTime;
            return metric.duration;
        }
    }

    getMetrics() {
        const result = {};
        for (const [name, metric] of this.metrics) {
            result[name] = metric.duration;
        }
        return result;
    }
}
```

### é”™è¯¯è¿½è¸ª
```javascript
class ErrorTracker {
    constructor() {
        this.errors = [];
        this.setupGlobalHandlers();
    }

    setupGlobalHandlers() {
        process.on('uncaughtException', (error) => {
            this.trackError('uncaughtException', error);
        });

        process.on('unhandledRejection', (reason, promise) => {
            this.trackError('unhandledRejection', reason);
        });
    }

    trackError(type, error) {
        const errorInfo = {
            type,
            message: error.message,
            stack: error.stack,
            timestamp: new Date().toISOString()
        };

        this.errors.push(errorInfo);
        console.error('é”™è¯¯è¿½è¸ª:', errorInfo);

        // å¯ä»¥å‘é€åˆ°é”™è¯¯ç›‘æ§æœåŠ¡
        this.sendToMonitoringService(errorInfo);
    }

    sendToMonitoringService(errorInfo) {
        // å®ç°é”™è¯¯ä¸ŠæŠ¥é€»è¾‘
    }
}
```

## ğŸ” å®‰å…¨æœ€ä½³å®è·µ

### è¾“å…¥éªŒè¯
```javascript
class InputValidator {
    static validateUrl(url) {
        try {
            const parsed = new URL(url);
            return ['http:', 'https:'].includes(parsed.protocol);
        } catch {
            return false;
        }
    }

    static validatePath(filePath) {
        // é˜²æ­¢è·¯å¾„éå†æ”»å‡»
        const normalized = path.normalize(filePath);
        return !normalized.includes('..');
    }

    static sanitizeString(input) {
        // æ¸…ç†æ½œåœ¨çš„æ¶æ„å­—ç¬¦
        return input.replace(/[<>\"'&]/g, '');
    }
}
```

### æƒé™æ§åˆ¶
```javascript
class PermissionManager {
    constructor() {
        this.allowedOperations = new Set([
            'read_config',
            'write_temp',
            'clear_data'
        ]);
    }

    checkPermission(operation) {
        return this.allowedOperations.has(operation);
    }

    executeWithPermission(operation, callback) {
        if (this.checkPermission(operation)) {
            return callback();
        } else {
            throw new Error(`æƒé™ä¸è¶³: ${operation}`);
        }
    }
}
```

### æ•°æ®åŠ å¯†
```javascript
const crypto = require('crypto');

class DataEncryption {
    constructor() {
        this.algorithm = 'aes-256-gcm';
        this.keyLength = 32;
    }

    generateKey() {
        return crypto.randomBytes(this.keyLength);
    }

    encrypt(data, key) {
        const iv = crypto.randomBytes(16);
        const cipher = crypto.createCipher(this.algorithm, key, iv);

        let encrypted = cipher.update(data, 'utf8', 'hex');
        encrypted += cipher.final('hex');

        const authTag = cipher.getAuthTag();

        return {
            encrypted,
            iv: iv.toString('hex'),
            authTag: authTag.toString('hex')
        };
    }

    decrypt(encryptedData, key) {
        const decipher = crypto.createDecipher(
            this.algorithm,
            key,
            Buffer.from(encryptedData.iv, 'hex')
        );

        decipher.setAuthTag(Buffer.from(encryptedData.authTag, 'hex'));

        let decrypted = decipher.update(encryptedData.encrypted, 'hex', 'utf8');
        decrypted += decipher.final('utf8');

        return decrypted;
    }
}
```

## ğŸš€ éƒ¨ç½²å’Œåˆ†å‘

### æ„å»ºé…ç½®
```javascript
// electron-builderé…ç½®
{
    "build": {
        "appId": "com.randomfingerprintbrowser.app",
        "productName": "éšæœºæŒ‡çº¹æµè§ˆå™¨",
        "directories": {
            "output": "dist",
            "buildResources": "build"
        },
        "files": [
            "src/**/*",
            "node_modules/**/*",
            "package.json"
        ],
        "extraFiles": [
            {
                "from": "assets",
                "to": "assets",
                "filter": ["**/*"]
            }
        ],
        "win": {
            "target": [
                {
                    "target": "nsis",
                    "arch": ["x64", "ia32"]
                },
                {
                    "target": "portable",
                    "arch": ["x64"]
                }
            ],
            "icon": "assets/icon.ico",
            "requestedExecutionLevel": "asInvoker"
        },
        "mac": {
            "target": [
                {
                    "target": "dmg",
                    "arch": ["x64", "arm64"]
                }
            ],
            "icon": "assets/icon.icns",
            "category": "public.app-category.utilities"
        },
        "linux": {
            "target": [
                {
                    "target": "AppImage",
                    "arch": ["x64"]
                },
                {
                    "target": "deb",
                    "arch": ["x64"]
                }
            ],
            "icon": "assets/icon.png",
            "category": "Utility"
        }
    }
}
```

### è‡ªåŠ¨åŒ–æ„å»º
```bash
#!/bin/bash
# build.sh - è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬

echo "å¼€å§‹æ„å»ºéšæœºæŒ‡çº¹æµè§ˆå™¨..."

# æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶
npm run clean

# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œæµ‹è¯•
npm test

# æ„å»ºåº”ç”¨
npm run build

# éªŒè¯æ„å»ºç»“æœ
if [ -d "dist" ]; then
    echo "æ„å»ºæˆåŠŸï¼"
    ls -la dist/
else
    echo "æ„å»ºå¤±è´¥ï¼"
    exit 1
fi
```

### ç‰ˆæœ¬ç®¡ç†
```javascript
// version.js - ç‰ˆæœ¬ç®¡ç†å·¥å…·
const fs = require('fs');
const path = require('path');

class VersionManager {
    constructor() {
        this.packagePath = path.join(__dirname, 'package.json');
        this.package = JSON.parse(fs.readFileSync(this.packagePath, 'utf8'));
    }

    getCurrentVersion() {
        return this.package.version;
    }

    bumpVersion(type = 'patch') {
        const [major, minor, patch] = this.package.version.split('.').map(Number);

        switch (type) {
            case 'major':
                this.package.version = `${major + 1}.0.0`;
                break;
            case 'minor':
                this.package.version = `${major}.${minor + 1}.0`;
                break;
            case 'patch':
            default:
                this.package.version = `${major}.${minor}.${patch + 1}`;
                break;
        }

        fs.writeFileSync(this.packagePath, JSON.stringify(this.package, null, 2));
        return this.package.version;
    }
}
```

## ğŸ“ˆ æ€§èƒ½åŸºå‡†æµ‹è¯•

### å¯åŠ¨æ—¶é—´æµ‹è¯•
```javascript
// æµ‹è¯•æµè§ˆå™¨å¯åŠ¨æ—¶é—´
async function benchmarkStartupTime() {
    const iterations = 10;
    const times = [];

    for (let i = 0; i < iterations; i++) {
        const startTime = Date.now();

        const browser = new RandomFingerprintBrowser();
        await browser.initialize();

        const endTime = Date.now();
        times.push(endTime - startTime);

        await browser.close();

        // ç­‰å¾…æ¸…ç†å®Œæˆ
        await new Promise(resolve => setTimeout(resolve, 1000));
    }

    const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
    const minTime = Math.min(...times);
    const maxTime = Math.max(...times);

    console.log(`å¯åŠ¨æ—¶é—´åŸºå‡†æµ‹è¯• (${iterations} æ¬¡):`);
    console.log(`å¹³å‡æ—¶é—´: ${avgTime.toFixed(2)}ms`);
    console.log(`æœ€çŸ­æ—¶é—´: ${minTime}ms`);
    console.log(`æœ€é•¿æ—¶é—´: ${maxTime}ms`);

    return { avgTime, minTime, maxTime };
}
```

### å†…å­˜ä½¿ç”¨æµ‹è¯•
```javascript
// æµ‹è¯•å†…å­˜ä½¿ç”¨æƒ…å†µ
async function benchmarkMemoryUsage() {
    const initialMemory = process.memoryUsage();

    const browser = new RandomFingerprintBrowser();
    await browser.initialize();

    const afterInitMemory = process.memoryUsage();

    // æ¨¡æ‹Ÿä½¿ç”¨
    for (let i = 0; i < 100; i++) {
        const fingerprint = browser.fingerprintGenerator.generate();
        await browser.fingerprintInjector.injectToPage(null, fingerprint);
    }

    const afterUsageMemory = process.memoryUsage();

    await browser.close();

    const afterCloseMemory = process.memoryUsage();

    console.log('å†…å­˜ä½¿ç”¨åŸºå‡†æµ‹è¯•:');
    console.log('åˆå§‹å†…å­˜:', formatMemory(initialMemory));
    console.log('åˆå§‹åŒ–å:', formatMemory(afterInitMemory));
    console.log('ä½¿ç”¨å:', formatMemory(afterUsageMemory));
    console.log('å…³é—­å:', formatMemory(afterCloseMemory));
}

function formatMemory(memUsage) {
    return {
        rss: `${Math.round(memUsage.rss / 1024 / 1024)}MB`,
        heapTotal: `${Math.round(memUsage.heapTotal / 1024 / 1024)}MB`,
        heapUsed: `${Math.round(memUsage.heapUsed / 1024 / 1024)}MB`
    };
}
```

## ğŸ”„ æŒç»­é›†æˆ/æŒç»­éƒ¨ç½² (CI/CD)

### GitHub Actionsé…ç½®
```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest, macos-latest]
        node-version: [16.x, 18.x, 20.x]

    steps:
    - uses: actions/checkout@v3

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'

    - name: Install dependencies
      run: npm ci

    - name: Run tests
      run: npm test

    - name: Run security audit
      run: npm audit

    - name: Build application
      run: npm run build
      if: matrix.os == 'ubuntu-latest' && matrix.node-version == '18.x'

    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      if: matrix.os == 'ubuntu-latest' && matrix.node-version == '18.x'
      with:
        name: build-artifacts
        path: dist/
```

### è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
```bash
#!/bin/bash
# ci-test.sh - CIç¯å¢ƒæµ‹è¯•è„šæœ¬

set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

echo "å¼€å§‹CIæµ‹è¯•æµç¨‹..."

# ç¯å¢ƒæ£€æŸ¥
echo "æ£€æŸ¥ç¯å¢ƒ..."
node --version
npm --version

# å®‰è£…ä¾èµ–
echo "å®‰è£…ä¾èµ–..."
npm ci

# ä»£ç è´¨é‡æ£€æŸ¥
echo "ä»£ç è´¨é‡æ£€æŸ¥..."
npm run lint

# å®‰å…¨å®¡è®¡
echo "å®‰å…¨å®¡è®¡..."
npm audit --audit-level moderate

# è¿è¡Œæµ‹è¯•
echo "è¿è¡Œæµ‹è¯•..."
npm test

# æ„å»ºæ£€æŸ¥
echo "æ„å»ºæ£€æŸ¥..."
npm run build

echo "CIæµ‹è¯•å®Œæˆï¼"
```

---

**æŠ€æœ¯æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2024å¹´6æœˆ11æ—¥
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **æŠ€æœ¯æ–‡æ¡£**: æœ¬æ–‡æ¡£
- **é—®é¢˜åé¦ˆ**: GitHub Issues
- **åŠŸèƒ½å»ºè®®**: GitHub Discussions
- **å®‰å…¨é—®é¢˜**: è¯·ç§ä¸‹è”ç³»ç»´æŠ¤å›¢é˜Ÿ

### è´¡çŒ®æŒ‡å—
1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

### è®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

*æœ¬æŠ€æœ¯æ–‡æ¡£å°†æŒç»­æ›´æ–°ï¼Œä»¥åæ˜ é¡¹ç›®çš„æœ€æ–°æŠ€æœ¯çŠ¶æ€å’Œæœ€ä½³å®è·µã€‚*
